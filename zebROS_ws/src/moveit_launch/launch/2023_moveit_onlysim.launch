<launch>
  <rosparam file="$(find minifrc_arm_moveit_config)/config/ros_controllers.yaml" command="load" ns="move_group" />
  <rosparam file="$(find moveit_launch)/config/2023_testbot_base_sim.yaml" command="load"/>

  <include file="$(find minifrc_arm_moveit_config)/launch/demo.launch">
    <arg name="use_rviz" value="true" />
  </include>

  <param name="robot_description"
    command="$(find xacro)/xacro '$(find minifrcrobot_description)/urdf/robot.urdf'" />

    <!-- Load hardware interface -->
    <node name="frcrobot_sim_interface" pkg="ros_control_boilerplate" type="frcrobot_sim_main"
    output="screen" >
  </node>
  <!-- hopefully only does 1 controller manager -->
  <node name="ros_control_controller_manager" pkg="controller_manager" type="controller_manager"
    respawn="false"
    output="screen" args="spawn 
    joint_state_controller_jetson
    joint_state_listener_controller_jetson
    talon_state_controller_jetson
    talon_config_controller
    match_state_listener_controller
    talonfxpro_state_controller
    talonfxpro_config_controller
    robot_code_ready_controller
    minifrc_moveit_controller" />
</launch>